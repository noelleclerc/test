Salut Marc,

Les travaux sur le batch de transfert des pièces dans Digitech reprennent.
Aurais-tu un schéma d’architecture à jour stp ? 
Nous avons trouvé celui-ci mais il date d’avant Ocarina \\srv-fic-04\DI\Documentation\12. Pôle Digital\@Espace Prospect\Architecture\Espace prospect - architecture applicatives - préproduction_VAD Lot 3.vsd

Cordialement.

Edmond GIBERT

De : Gibert Edmond (BFM) 
Envoyé : vendredi 8 octobre 2021 10:41
À : Leclerc Noel (EXT) <nleclerc@bfm.fr>; Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>
Objet : TR: Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 


De : Brenner Marc (BFM) <mbrenner@bfm.fr> 
Envoyé : vendredi 11 juin 2021 18:51
À : Ruis Emmanuel (EXT) <eruis@bfm.fr>
Cc : Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>; Gibert Edmond (BFM) <egibert@bfm.fr>
Objet : RE: Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 

Emmanuel

Ok impeccable.
Concernant le framework, oui c’est un serveur récent. 

Je vais demander à ce que le digital est accès en écriture au partage :
\\srv-app-90\appl\BFM

A+
Marc


De : Ruis Emmanuel (EXT) <eruis@bfm.fr> 
Envoyé : vendredi 11 juin 2021 16:55
À : Brenner Marc (BFM) <mbrenner@bfm.fr>
Cc : Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>; Gibert Edmond (BFM) <egibert@bfm.fr>
Objet : RE: Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 

Re-Bonjour Marc,

Désolé, j’étais passé à autre chose donc je n’ai pas vu ton mail.

Pourquoi pas !

La seule contrainte est de pouvoir récupérer toutes les données utiles de la VAD dans le DWH.
Pour les tables de mapping, j’ai les scripts pour les créer, donc que ce soit dans la base de la VAD ou une autre, pas de problème.
Je n’ai pas encore travaillé sur la partie sauvegarde des identifiants des pièces créées, mais la réflexion sera la même, quelle que soit la BD de destination puisque ce sera dans une nouvelle table (ça regroupera à la fois les pièces purement VAD et les pièces complémentaires dans ADG) !

A part les adaptations de l’existant pour changer les EndPoints des WS ADG et IAdmin.
Ainsi que créer les BDs utiles (tout le paramétrage se trouve en BD, donc une table de paramétrage sera nécessaire).
Je pense que le batch peut-être facilement adapté pour tourner dans CORP.

Le batch a été prévu de tourner sur le Framework 4.7.2, est-ce que dans CORP, les serveurs supportent ?

Emmanuel


De : Brenner Marc (BFM) <mbrenner@bfm.fr> 
Envoyé : vendredi 11 juin 2021 11:45
À : Ruis Emmanuel (EXT) <eruis@bfm.fr>
Cc : Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>; Gibert Edmond (BFM) <egibert@bfm.fr>
Objet : RE: Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 

Rebonjour Emmanuel,

Dans ce cas le plus simple serait peut-être d’installer le batch sur CORP :
-	SRV-APP-90 pour la recette
-	SRV-APP-98 sur la prod
Les accès à DIGITECH sont également prévus à partir de ces serveur. 

Il faudrait alors que le batch ne parte pas de la base VAD mais du DWH :  table VAD_Credit_DWH de ALIM de SRV-SQL-09/10.
S’il y a un décalage d’une journée ce n’est pas grave. 

Le plan de classement et autres données à stocker (dossier et pièces déjà traitées avec leur ID Digitech…) pourraient l’être dans une table de la BDD FLUX_WS de SRV-SQL-05/06.

Qu’en penses-tu ?
Marc

De : Ruis Emmanuel (EXT) <eruis@bfm.fr> 
Envoyé : vendredi 11 juin 2021 10:06
À : Gibert Edmond (BFM) <egibert@bfm.fr>; Brenner Marc (BFM) <mbrenner@bfm.fr>
Cc : Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>
Objet : RE: Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 

Bonjour,

J’étais en train de faire un point sur le développement du batch.
Je vais commencer par là et ensuite je répondrai à ta question.

Développement du batch
Le batch est aujourd’hui fonctionnel, à savoir qu’il récupère une liste de dossiers VAD candidats, et pour chacun d’eux, la liste des pièces dans ADG, celles dans la VAD (les justificatifs téléchargés par les utilisateurs), afin de les pousser dans Digitech.
Il fait bien sûr son rapport sous forme de mail, marque les dossiers traités en tant que tels et mémorise la date de son exécution.
Ce qui n’est pas fait : 
•	[coté BD] indiquer dans quel dossier ou sous-dossier Digitech il faut déposer le document (en fonction des plans de classement récupérés récemment),
•	[coté BD] indiquer le mapping des pièces VAD / Digitech (en fonction des plans de classement récupérés récemment)
•	[dev + BD] mémoriser les ids Digitech des pièces ajoutées afin de pouvoir tracer / effacer en cas de reprise sur erreur (nouvelle demande).

Chiffrage
Maintenant, pour répondre à ta question de l’impact de la nouvelle fonctionnalité d’IAdgWS.
Le batch utilise directement le WS Digitech pour pousser les pièces dans Digitech, il utilise le WS récupéré directement dans Visual Studio ainsi que des modèles et des outils qui permettent de préparer les données à transmettre.
S’il devait utiliser une nouvelle opération d’IAdgWS, il faudrait reprendre toute cette partie pour brancher cette nouvelle opération, c’est une coupe chirurgicale qui ne devrait pas prendre plus d’une semaine (sans interruption).

Il faudra ensuite développer cette opération côté ADG.
Ce qu’il faut savoir de l’opération Digitech, c’est qu’elle est capable de traiter un lot de pièces à envoyer, je l’utilise dans le batch mais est-ce utile côté ADG ?
Pour chaque pièce transférée, nous récupérons son ID quand elle a été effectivement ajoutée, ID qu’il faudra retourner à l’appelant. 
Il faudra aussi implémenter une opération de suppression de pièce dans Digitech à partir d’un ID (celui récupéré précédemment) pour gérer la reprise sur erreur.

Le code que j’ai créé dans le batch est fait avec les outils que nous développons au fur et à mesure pour nous simplifier le développement. Je crains que l’adaptation dans ADG ne soit pas directe de ce fait.
Je ne vais donc pas m’avancer pour chiffrer cette partie de développement.

Est-ce que cela te convient en termes de chiffrage ?

Emmanuel

De : Gibert Edmond (BFM) <egibert@bfm.fr> 
Envoyé : vendredi 11 juin 2021 09:39
À : Ruis Emmanuel (EXT) <eruis@bfm.fr>; Brenner Marc (BFM) <mbrenner@bfm.fr>
Cc : Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>
Objet : RE: Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 

Salut,

Comme échangé avec vous par Jabber :
J’ai zappé une notion importante et je m’en excuse : la solution privilégiée était que l’action de copier un document d’ADG vers Digitech soit intégré dans une fonction du WS IadgWS pour des raisons de performances en véhiculant les pièces de CORP vers CORP au lieu de faire un aller-retour CORP  EC  CORP et pour éviter des ouvertures de flux complémentaires.

@Emmanuel, quel serait l’impact de conserver le batch existant et d’exporter dans une nouvelle fonctionnalité d’IadGWS la partie transfert de ADG vers Digitech ?

Cordialement.

Edmond GIBERT


De : Ruis Emmanuel (EXT) <eruis@bfm.fr> 
Envoyé : vendredi 11 juin 2021 08:56
À : Brenner Marc (BFM) <mbrenner@bfm.fr>
Cc : Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>; Gibert Edmond (BFM) <egibert@bfm.fr>
Objet : RE: Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 

Heu… non ! A moins que je n’ai rien compris à ce qu’il fallait faire ☹
C’est le batch TAD (Transfert ADG vers Digitech) qui appelle directement Digitech, sans intermédiaire…

Peut-être qu’à terme ce serait mieux effectivement, mais dans le cas du traitement des dossiers ‘DECAISSES’, ce n’est pas le cas pour le moment.

Emmanuel

De : Brenner Marc (BFM) <mbrenner@bfm.fr> 
Envoyé : vendredi 11 juin 2021 08:53
À : Ruis Emmanuel (EXT) <eruis@bfm.fr>
Cc : Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>; Gibert Edmond (BFM) <egibert@bfm.fr>
Objet : RE: Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 

Hello Emmanuel,  
C’est bien le ws IADGWS qui appellera le WS Digitech ?
Merci
Marc

De : Ruis Emmanuel (EXT) <eruis@bfm.fr> 
Envoyé : vendredi 11 juin 2021 08:45
À : Gibert Edmond (BFM) <egibert@bfm.fr>
Cc : Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>; Brenner Marc (BFM) <mbrenner@bfm.fr>
Objet : RE: Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 

Merci bien (@Edmond, @Kamel).

J’ai bien fait de bosser sans, parce que ça ne m’apporte pas grand-chose.
Ou sinon, et je ne pense pas que ce soit le cas mais nous aurons le temps d’y revenir, nous mettrons toutes nos pièces dans l’entrée en relation, ce qui correspond au dossier client Digitech, donc aucun usage des sous-dossiers !

Le plan de classement aurait dû contenir les ID des pièces selon Philippe, en y regardant du plus prêt, le document que j’ai à disposition n’est pas celui dont parle Philippe : Plan_de_Classement_GED-Canevas-BFM-V20210528-DGT- MEP(Philippe) vs Plan_de_Classement_GED-Canevas-BFM-V20200424-DGT-V3(Edmond+Kamel). Avez-vous d’autres plans de classement dans la liste des documents SAB ?

Je revois mon batch pour qu’il mette toutes les pièces dans le dossier Client, sans utiliser les sous-dossiers.

Emmanuel

De : Gibert Edmond (BFM) <egibert@bfm.fr> 
Envoyé : jeudi 10 juin 2021 09:10
À : Ruis Emmanuel (EXT) <eruis@bfm.fr>
Cc : Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>; Brenner Marc (BFM) <mbrenner@bfm.fr>
Objet : RE: Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 

Bonjour Emmanuel,

Je voulais dire un document rattaché au dossier….(et non un dossier rattaché au dossier)
Par exemple pour un numéro de dossier :  identifiant = 0000013
Pour un numéro de client :  identifiant = 8058163
@Jean-François, c’est bien ça ?
J’ai copié le plan de classement ici : \\srv-fic-04\DI\Documentation\12. Pôle Digital\@Espace Prospect\Interfaces VAD-SAB\WS SAB pour la VAD\Digitech

Cordialement.

Edmond GIBERT

De : Ruis Emmanuel (EXT) <eruis@bfm.fr> 
Envoyé : jeudi 10 juin 2021 08:46
À : Gibert Edmond (BFM) <egibert@bfm.fr>
Cc : Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>; Brenner Marc (BFM) <mbrenner@bfm.fr>
Objet : RE: Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 

Bonjour Edmond,

Je n’ai pas accès au fichier.
Pourrais-tu faire la demande pour que j’ai accès ou bien m’en donner une copie ?

A aucun moment Philippe n'a parlé de rattacher un dossier à un dossier… Qu'entendez-vous (Jean-François et toi) par là ?

Je parlais du format des identifiants, pas de leur origine, aujourd'hui, le format des identifiants SAB ne correspondent pas à ce qui est attendu par le WS Digitech. 
En espérant que les identifiants SAB tiennent sur 7 chiffres décimaux, je procéderai de la façon suivante :
  - pour un numéro de dossier, attendu '1234/1234/AB/AB/1234567' => je préfixerai l'identifiant SAB avec '1234/1234/AB/AB/' ;
  - pour un numéro de client, attendu ‘1234/1234567’ => je préfixerai l'identifiant SAB avec '1234/'.
Est-ce que cela te convient ?

Emmanuel


De : Gibert Edmond (BFM) <egibert@bfm.fr> 
Envoyé : mercredi 9 juin 2021 15:14
À : Ruis Emmanuel (EXT) <eruis@bfm.fr>
Cc : Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>; Brenner Marc (BFM) <mbrenner@bfm.fr>
Objet : RE: Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 

Bonjour Emmanuel,

Désolé de ne pas t’avoir répondu plus tôt…
Le plan de classement est ici : \\srv-fic-10\OCARINA\02 - Lignes metiers\Référentiels\05 - Conception détaillée\01 - Paramétrages\Plan_de_Classement_GED-Canevas-BFM-V20200424-DGT-V3.xlsx

Concernant les références à utiliser pour l’enregistrement de pièces dans Digitech, après échange avec Jean-François, il s’agit de la référence tiers SAB pour un document rattaché au client dans le plan de classement, et de la référence de prêt SAB pour un dossier rattaché au dossier.

Je transmets ta question 20210603_03 à Philippe.

Cordialement.

Edmond GIBERT


De : Ruis Emmanuel (EXT) <eruis@bfm.fr> 
Envoyé : mercredi 9 juin 2021 10:56
À : Gibert Edmond (BFM) <egibert@bfm.fr>
Cc : Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>; Brenner Marc (BFM) <mbrenner@bfm.fr>
Objet : RE: Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 

Bonjour,

Petite relance pour avoir des réponses à mes questions…

En l’état, je ferai des hypothèses en faisant en sorte que ce soit facilement modifiable pour ajuster avec l’attendu final.
Sauf pour les questions directement adressées à Philippe.

Emmanuel

De : Ruis Emmanuel (EXT) 
Envoyé : jeudi 3 juin 2021 11:24
À : Gibert Edmond (BFM) <egibert@bfm.fr>
Cc : Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>; Brenner Marc (BFM) <mbrenner@bfm.fr>
Objet : RE: Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 

Bonjour,

Où puis-je trouver le document « Plan_de_Classement_GED-Canevas-BFM-V20210528-DGT- MEP » ?
Mon explorateur de fichier ne trouve pas de fichier avec ce nom depuis S:\Documentation\12. Pôle Digital… Est-ce ailleurs que je trouverai bonheur ?

Merci d’avance de m’aider à mettre la main sur ce document précieux…

J’ai des questions supplémentaires pour faire compléter les réponses de Philippe, @Edmond je te laisse les lui poser :

Réf question	Réf question précédente	Questions	Réponse ou élément de réponse
20210603_02	20210519_02	Qu'en est-il du format des différentes références SAB ? Pour l'instant, nous n'avons pas ce genre d'entrées, il n'y a pas de '/' dans les identifiants que nous retournent les différents WS SAB.	
20210603_03	20210519_08	Si une erreur survient pendant notre traitement et que nous devons reprendre pour un dossier donné, existe-t-il un service, côté Digitech, qui permet de supprimer la totalité des documents pour un client donné ?
Ou bien est-il possible d’être plus fin en récupérant une liste des documents afin de la compléter ?	

Et une remarque concernant la question 20210519_09 : après vérification, le WS peut effectivement insérer plusieurs documents à la volée, nous verrons en fonction des contraintes de taille des documents quelle est la meilleure stratégie à appliquer : document par document ou bien l’ensemble des documents.

Emmanuel

De : philippe.roth <philippe.roth@digitech.fr> 
Envoyé : mercredi 2 juin 2021 16:56
À : Gibert Edmond (BFM) <egibert@bfm.fr>; 'PIETTE Odile' <odile.piette@soprabanking.com>
Cc : Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>; Ruis Emmanuel (EXT) <eruis@bfm.fr>; Brenner Marc (BFM) <mbrenner@bfm.fr>
Objet : RE: Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 

Bonjour,

Désolé pour cette réponse tardive.

En bleu les réponses de Digitech dans votre tableau

Cordialement,
Philippe ROTH
Tél : +33 (0)4.95.06.94.31

De : Gibert Edmond (BFM) <egibert@bfm.fr> 
Envoyé : jeudi 27 mai 2021 12:07
À : PIETTE Odile <odile.piette@soprabanking.com>; 'philippe.roth@digitech.fr' <philippe.roth@digitech.fr>
Cc : Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>; Ruis Emmanuel (EXT) <eruis@bfm.fr>; Brenner Marc (BFM) <mbrenner@bfm.fr>
Objet : RE: Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 

Bonjour,

Nous avons commencé l’étude sur le transfert des justificatifs VAD dans Digitech et avons quelques questions :

Réf	Questions	Réponse ou élément de réponse
20210510_01	D’après le mode de fonctionnement de Digitech, il y a différents ‘répertoires’ en fonction des types de pièces.
Est faite la distinction entre les pièces liées au client, celles pour la souscription et celles pour le crédit.
Dans la VAD, les utilisateurs vont y déposer les pièces d’identités & co, de la même façon que nous y mettons à disposition des fiches de synthèse des garanties et les offres de prêt.
J’ai bien compris que nous traitons les dossiers DECAISSES, donc nous sommes passés après la phase de souscription.
Faut-il alors ventiler les pièces dans les différents répertoires prévus dans Digitech ?	Je pense qu’en fonction du type de pièce que vous avez, vous pouvez savoir dans quel répertoire elle doit aller. Pour cela, il suffit de respecter le tableau Plan de classement qui a été définit par les équipes métiers.
Selon moi, c’est l’équipe métier qui doit vous dire que tel type de pièce que vous avez doit aller dans tel répertoire. Et cela doit cadrer avec ce qui a été définit en atelier de cadrage.
20210517_01	D’un point de vue technique, il me manque l’élément suivant : les types de pièces (BK_TYPE_PIE).
D’après l’exemple donné, il ne correspond pas aux pièces SAB, qui ont des identifiants de la forme ‘IDF999’. Il me manque sûrement une table des types de pièces présentes dans SAB.	La table de correspondance est définie dans un document excel Plan_de_Classement_GED-Canevas-BFM-V20210528-DGT- MEP
20210519_02	Pour chaque pièce que l'on ajoute dans Digitech, il faut préciser : 
            - un numéro de dossier : faut-il mettre la référence SAB ou bien VAD ? en sachant que le format attendu est le suivant : 1234/1234/AB/AB/1234567.	La GED ne connait que SAB, ce sera donc la référence SAB
20210519_03	            - un numéro de client : même question : SAB ou VAD ? en sachant que le format attendu est le suivant : 1234/1234567.	Idem
20210519_06	Comme les pièces Digitech sont rattachées à un client en particulier, il faudra faire le tri des pièces qui vont à l'emprunteur ou au coemprunteur.
Je suppose que nous rattacherons le dossier de crédit à l'emprunteur ou bien faut-il dupliquer les données du dossier au coemprunteur aussi ?	Sauf avis contraire des équipes métiers BFM et SAB, le dossier est bien rattaché à l’emprunteur
20210519_07	Que faut-il faire pour les conjoints ? Récupérons-nous seulement leurs pièces d'identités ? Devons-nous les créer en tant que client (ils sont forcément emprunteur aussi... en fonction du contrat de mariage) et dupliquer les données du dossier ?	Je ne sais pas, mais je dirai que non. A confirmer
20210519_08	En cas de reprise, sur une erreur quelconque quelle qu'en soit l'origine, que se passe-t-il si une pièce existe déjà ? Faut-il faire table rase de ce qui existe sur un dossier et tout reprendre, ou bien simplement faire des mises à jour ? Je n’ai pas vu d’opération qui permette de récupérer la liste de l’existant dans le WS Digitech.	Je ne comprends pas bien la question, ou la demande.
Plusieurs pièces, de même type, peuvent être ajoutées à un dossier.
20210519_09	Est-il possible d'insérer plusieurs documents en une seule fois ? Parce que le code généré par VisualStudio pour le WS Digitech le laisse entendre mais je n'ai pas réussi à le faire avec SOAPUI à partir du projet qui nous a été donné en exemple.	Je ne suis pas sûr que l’insertion de plusieurs pièces ne soit prévue. Il est préférable de déposer document par docuement

Merci d’avance,

Cordialement.

Edmond GIBERT



De : Gibert Edmond (BFM) <egibert@bfm.fr> 
Envoyé : vendredi 21 mai 2021 16:52
À : 'PIETTE Odile' <odile.piette@soprabanking.com>
Cc : Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>; Ruis Emmanuel (EXT) <eruis@bfm.fr>
Objet : RE: Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 

Bonjour Odile,

Serais-tu disponible mardi 14h pour un atelier sur le transfert des pièces dans Digitech ? 
Les questions concernant principalement le plan de classement prévu dans SAB.

Cordialement.

Edmond GIBERT


De : Ruis Emmanuel (EXT) <eruis@bfm.fr> 
Envoyé : mercredi 19 mai 2021 10:07
À : Gibert Edmond (BFM) <egibert@bfm.fr>
Cc : Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>
Objet : RE: Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 

Bonjour,

Effectivement, un atelier s’impose, parce que j’ai encore quelques questions…

Pour chaque pièce que l'on ajoute dans Digitech, il faut préciser : 
            - un numéro de dossier : faut-il mettre la référence SAB ou bien VAD ? en sachant que le format attendu est le suivant : 1234/1234/AB/AB/1234567.
            - un numéro de client : même question : SAB ou VAD ? en sachant que le format attendu est le suivant : 1234/1234567.
Si nous devons mettre des références SAB, comment les récupérons-nous, et comment faisons-nous si les dossiers ont été créés avant la mise en route de SAB ?

Comme les pièces Digitech sont rattachées à un client en particulier, il faudra faire le tri des pièces qui vont à l'emprunteur ou au coemprunteur.

Je suppose que nous rattacherons le dossier de crédit à l'emprunteur ou bien faut-il dupliquer les données du dossier au coemprunteur aussi ?

Que faut-il faire pour les conjoints ? Récupérons-nous seulement leurs pièces d'identités ? Devons-nous les créer en tant que client (ils sont forcément emprunteur aussi... en fonction du contrat de mariage) et dupliquer les données du dossier ?

En cas de reprise, sur une erreur quelconque quelle qu'en soit l'origine, que se passe-t-il si une pièce existe déjà ? Faut-il faire table rase de ce qui existe sur un dossier et tout reprendre, ou bien simplement faire des mises à jour ? Je n’ai pas vu d’opération qui permette de récupérer la liste de l’existant dans le WS Digitech.

Emmanuel

De : Gibert Edmond (BFM) <egibert@bfm.fr> 
Envoyé : mardi 18 mai 2021 17:05
À : Ruis Emmanuel (EXT) <eruis@bfm.fr>
Cc : Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>
Objet : RE: Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 

Salut Emmanuel,

Désolé pour le délai de réponse, il faudra certainement qu’on fasse un atelier avec JF et Odile pour répondre à tes questions techniques.
Pour la FSI, je fais un autre mal en parallèle à Jean-Etienne pour qu’il nous dise si c’est la peine de la mettre dans Digitech.
Est-ce que Digitech est amené à remplacer ADG à terme ? non ce n’est pas prévu.

Cordialement.

Edmond GIBERT


De : Ruis Emmanuel (EXT) <eruis@bfm.fr> 
Envoyé : lundi 10 mai 2021 09:49
À : Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>; Gibert Edmond (BFM) <egibert@bfm.fr>
Objet : RE: Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 

Bonjour,

D’après le mode de fonctionnement de Digitech, il y a différents ‘répertoires’ en fonction des types de pièces.
Est faite la distinction entre les pièces liées au client, celles pour la souscription et celles pour le crédit.
Dans la VAD, les utilisateurs vont y déposer les pièces d’identités & co, de la même façon que nous y mettons à disposition des fiches de synthèse des garanties et les offres de prêt.

J’ai bien compris que nous traitons les dossiers DECAISSES, donc nous sommes passés après la phase de souscription.
Faut-il alors ventiler les pièces dans les différents répertoires prévus dans Digitech ?
Faut-il aussi récupérer les FSI qui, si ma mémoire est bonne, ne sont jamais mises dans ADG, seulement générées à la volée ?

Je vais prévoir un mapping pour savoir où ventiler les pièces colonne pour les dossiers décaissés, dois-je prévoir une autre colonne pour les dossiers encore en souscription ? Est-ce que Digitech est amené à remplacer ADG à terme ?

Emmanuel

De : philippe.roth <philippe.roth@digitech.fr> 
Envoyé : jeudi 25 mars 2021 16:37
À : Gibert Edmond (BFM) <egibert@bfm.fr>
Cc : 'PIETTE Odile' <odile.piette@soprabanking.com>; 'Nicolas BROSSAS' <nicolas.brossas@digitech.fr>; Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>; Houzelle Jean Francois (BFM) <jfhouzelle@bfm.fr>
Objet : Digitech-SAB-BFM : Ws digitech pour mettre en ged les doc de la VAD 

Bonjour,

Comme convenu voici les éléments pour l’intégration de document dans la GED via les WS.

Le contexte étant identique aux échanges déjà opérationnels avec SAB (pour la gestion des demandes notamment), je vous propose d’utiliser un WS spécifique créé pour les projets SAB. Celui-ci permet d’un seul appel, de traiter les cas de création si besoin du dossier Client et/ou du sous-dossier Crédit.

Détails des métadonnées pour créer un document dans un dossier client (Entrée en relation) :
•	Métadonnées pour le dossier Client :
o	Numéro de dossier client (Tiers) :
	Code BK_CLI_NUMCLI
	Obligatoire, format 1234/1234567
o	Nom du client :
	Code BK_CLI_NOM
	Obligatoire
o	Nom de jeune fille du client :
	Code BK_CLI_NOMJF
	Facultatif, alphanumérique 80c
o	Commune de naissance du client :
	Code BK_CLI_COMMUNE_NAISSANCE
	Facultatif, alphanumérique 80c
o	Date de naissance :
	Code BK_CLI_DATE_NAISSANCE
	Facultatif, format dd/MM/yyyy
o	Siren :
	Code BK_CLI_SIREN
	Facultatif, alphanumérique 80c
o	Siret :
	Code BK_CLI_SIRET
	Facultatif, alphanumérique 80c
•	Métadonnées pour le document :
o	Numéro de dossier :
	Code BK_CLI_NUMCLI
	Obligatoire, format 1234/1234567
o	Type de pièce :
	Code BK_PIE_TYPE
	Obligatoire, valeur à sélectionner dans la liste des types de pièce autorisés
o	Date d’émission :
	Code BK_PIE_DATE_EMI
	Facultatif, format dd/MM/yyyy
o	Date de validité :
	Code BK_PIE_DATE_VALIDITE
	Facultatif, format dd/MM/yyyy
o	Référence :
	Code BK_PIE_REF
	Facultatif, alphanumérique 80c

Détails des métadonnées pour créer un document dans un sous-dossier Crédit/Souscription/Compte-épargne :
•	Métadonnées pour le sous-dossier Crédit/Souscription/Compte-épargne :
o	Numéro de sous-dossier :
	Code BK_DOS_NUMDOS
	Obligatoire, format 1234/1234/AB/AB/1234567
o	Type de dossier :
	Code BK_DOS_TYPEDOS
	Obligatoire
	Valeur à sélectionner dans la liste des types de dossier :
•	41 pour un dossier de type Crédit
•	42 pour un dossier de type Souscription
•	43 pour un dossier de type Compte-Epargne
o	Code produit :
	Code BK_DOS_CODEPRODUIT
	Facultatif, alphanumérique 80c
o	Code produit :
	Code BK_DOS_LIBELLEOFFRE
	Facultatif, alphanumérique 80c
o	Numéro de dossier client (Tiers) :
	Code BK_CLI_NUMCLI
	Obligatoire, format 1234/1234567
o	Nom du client :
	Code BK_CLI_NOM
	Obligatoire
•	Métadonnées pour le document :
o	Numéro de sous-dossier :
	Code BK_DOS_NUMDOS
	Obligatoire, format 1234/1234/AB/AB/1234567
o	Type de pièce :
	Code BK_PIE_TYPE
	Obligatoire, valeur à sélectionner dans la liste des types de pièce autorisés
o	Date d’émission :
	Code BK_PIE_DATE_EMI
	Facultatif, format dd/MM/yyyy
o	Date de validité :
	Code BK_PIE_DATE_VALIDITE
	Facultatif, format dd/MM/yyyy
o	Référence :
	Code BK_PIE_REF
	Facultatif, alphanumérique 80c

Autres détails :
•	La pièce jointe (fichier) est à placer au niveau du document, et non pas au niveau du dossier
•	Le niveau de secret est toujours 0
•	Le type de contenu est toujours :
o	BK_CLIENT pour le dossier client (Tiers)
o	BK_DOSSIER pour le sous-dossier Crédit/Souscription/Compte-épargne
o	BK_PIECE pour un document de type Pièce de dossier
•	L’authentification doit être égale à : UHVCZm06QmFucXUzRnJhbmNhIXNlTXV0dWFsaXN0ZQ
•	Les serveur GED sont :
o	Environnement TU : HORI-SRVWIN1035 / HORI-SRVWIN1035.ocarina.bfa-services.local / 172.30.245.133
o	Environnement INT (ou HOM) : HORI-SRVWIN1038 / HORI-SRVWIN1038.ocarina.bfa-services.local / 172.30.245.134
•	Le port à utiliser est : 9090
•	L’adresse : http://NomDuServeurOuAdresseIp:NumeroDePort/dossier/external/ws/extendDocument

Vous trouverez en pièces jointes :
•	Un projet soapui Exemple-Extend-Airs-Dossier-soapui-project :
o	TestCase insertDocumentsClient : exemple d’intégration d’une pièce de type CNI dans le dossier client (tiers, entrée en relation)
o	TestCase insertDocumentsSousDossier : exemple d’intégration d’une pièce de type Synthèse des garanties dans le sous-dossier de crédit
o	L’url pointe directement sur l’environnement GED TU
•	La WSDL du WS extendDocument.insertDocuments

Vous souhaitant bonne réception, je reste à votre disposition pour tout complément.

Cordialement,
Philippe ROTH
Tél : +33 (0)4.95.06.94.31

De : philippe.roth <philippe.roth@digitech.fr> 
Envoyé : mercredi 24 mars 2021 14:35
À : 'Houzelle Jean Francois (BFM)' <jfhouzelle@bfm.fr>
Cc : 'PIETTE Odile' <odile.piette@soprabanking.com>; 'Gibert Edmond (BFM)' <egibert@bfm.fr>; 'Nicolas BROSSAS' <nicolas.brossas@digitech.fr>; 'Gachgouch Kamel (BFM)' <kgachgouch@bfm.fr>
Objet : RE: ws digitech pour mettre en ged les doc de la VAD 

Bonjour Jean-François,

C’est noté pour demain matin, je me suis arrangé pour me rendre disponible.

Nota : je ne consulte pas l’adresse mail bfm car je ne sais pas comment faire. Je préconise de ne pas l’utiliser si c’est possible pour vous.

Cordialement,
Philippe ROTH
Tél : +33 (0)4.95.06.94.31

De : Houzelle Jean Francois (BFM) <jfhouzelle@bfm.fr> 
Envoyé : mercredi 24 mars 2021 14:18
À : Roth Philippe (EXT) <proth@bfm.fr>; 'philippe.roth@digitech.fr' <philippe.roth@digitech.fr>
Cc : PIETTE Odile <odile.piette@soprabanking.com>; Gibert Edmond (BFM) <egibert@bfm.fr>; Nicolas BROSSAS <nicolas.brossas@digitech.fr>; Gachgouch Kamel (BFM) <kgachgouch@bfm.fr>
Objet : ws digitech pour mettre en ged les doc de la VAD 

Bonjour Philippe 


On a  besoin de votre expérience pour mettre en GED les doc issu de la VAD BFM  via le web service  digitech  .



Ordre du jour de demain 10h30 

Contexte 
Avoir un compte  et mot de passe sur le web service de la GED de digitech 
Mettre en GED  via le plan de classement existant 
Pourvoir consulter les doc via SAB AT   
Divers 

Merci d’avance pour votre disponibilité   

PS je vous avais invité ce jour mais sur votre adresse mail bfm 


Cdt
Jean François 



 
Garanti sans virus. www.avast.com 


